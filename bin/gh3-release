#!/usr/bin/env node

var fs = require('fs');
var path = require('path');
var log = require('verbalize');
var argv = require('minimist')(process.argv.slice(2));
var config = require('config');
var Api = require('../lib/gh3-api');

var Debug = require('console-debug');

var debug = new Debug({
    uncaughtExceptionCatch: true, // Do we want to catch uncaughtExceptions?
    consoleFilter: [], // Filter these console output types, Examples: 'LOG', 'WARN', 'ERROR', 'DEBUG', 'INFO'
    logToFile: true, // if true, will put console output in a log file folder called 'logs'
    logFilter: ['LOG','DEBUG','INFO'], // Examples: Filter these types to not log to file, Examples: 'LOG', 'WARN', 'ERROR', 'DEBUG', 'INFO'
    colors: true // do we want pretty pony colors in our console output?
}); 

/**
 * Everything in the file should be customized
 */


// Verbalize `runner`
log.runner = 'gh3releaseio';

/**
* Taking arguments
*/

// Use `-t` or `--task` to specify token
var token = argv.t || argv.token || config.get('GitHub.Token');
// Use `-r` or `--repo` to specify repo
var repo = argv.r || argv.repo || config.get('GitHub.Repo');
// Use `-i` or `-d` or `--interval` or `--diff` to specify compare interval
var interval = argv.i || argv.interval || argv.d || argv.diff;


/**
 * Application
 */
 
var api = new Api(token, repo);
api.getNotes(interval);
